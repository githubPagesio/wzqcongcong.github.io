<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>闷骚的悟空</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="闷骚的悟空">
<meta property="og:url" content="http://hi.zongquan.wang/page/2/index.html">
<meta property="og:site_name" content="闷骚的悟空">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="闷骚的悟空">
<meta name="twitter:description">
  
  
    <link rel="icon" href="/favicon.ico">
  
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58630641-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  


  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?f927b4d849de0fa8e031f36bf6a21e78";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>

  <script src="//fast.eager.io/RfF1U61Tb7.js"></script>

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><span class="site-title">闷骚的悟空</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about/me.html">Me</a>
        
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/img/me.jpg"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://hi.zongquan.wang"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/">Home</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/about/me.html">Me</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://hi.zongquan.wang"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <img class="shake freez shake-hard" id="avatar" src="/img/me.jpg">
      <h2 id="name">闷骚的悟空</h2>
      <h3 id="subname">立一业谋生 择一城终老 携一人白首</h2>
      <h3 id="title">Mac &amp; iOS Developer &amp; Designer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Suzhou, China</span>
      <a class="shake shake-rotate" id="follow" href="https://github.com/wzqcongcong/">FOLLOW</a>
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        20
        <span>posts</span>
      </div>
      <div class="article-info-block">
        12
        <span>tags</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="mailto:wzqcongcong@sina.com" target="_blank" title="send"><i class="fa fa-send"></i></a></td>
          
          <td><a href="http://github.com/wzqcongcong" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="https://twitter.com/wzqcongcong" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
        </tr>
      </table>
    </div>
    
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-Study_iOS_Misc_UI" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/17/Study_iOS_Misc_UI/">Study iOS - Misc UI</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/01/17/Study_iOS_Misc_UI/">
      <time datetime="2015-01-17T07:30:03.000Z" itemprop="datePublished">2015-01-17</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Developing_Applications_for_iOS_观后感系列：Misc_UI">Developing Applications for iOS 观后感系列：Misc UI</h3><p><em>相关视频章节：all</em></p>
<hr>
<p>之前的文章已经学习了几种 iOS 中比较大而重要的 UIView，例如 UIScrollView、UITableView 等，本篇主要了解一下其它一些比较常用的小型 UI 类型。</p>
<h3 id="UITextView">UITextView</h3><p><strong><code>UITextView</code></strong> 提供了一个 multi-line、selectable、editable、scrollable 的编辑区，通过 <em><code>NSMutableAttributedString</code></em> 来设定它的文本内容和各种属性。</p>
<p>UITextView 有3个比较重要的 property，它们共同完成整个 UITextView 内容的显示。</p>
<ul>
<li><p><em><code>textStorage</code></em>：NSTextStorage 是 NSMutableAttributedString 的 subclass，也就是说，UITextView 的文本内容和文本属性是通过该 property 来决定的，对其赋值什么样的 NSMutableAttributedString，就会显示什么样的内容。</p>
</li>
<li><p><em><code>textContainer</code></em>：NSTextContainer 决定了 NSTextStorage 将会布局在整个 UITextView 的哪个区域中，即 where text can be。你甚至可以通过它来指定一个 <em><code>exclusion zones</code></em>（例如一个 image），这样 NSTextStorage 就会围绕这个 exclusion  zones 来布局，如同 Word 中的图片环绕效果，灰常 NB。</p>
</li>
<li><p><em><code>layoutManager</code></em>：前面2个 property，一个决定内容，一个决定样式，那么剩下的 NSLayoutManager 就是负责从 NSTextStorage 中获取到 text，然后将它们 lay down 到 NSTextContainer 设定的有效区域中。</p>
</li>
</ul>
        
          <p class="article-more-link shake shake-rotate">
            <a href="/2015/01/17/Study_iOS_Misc_UI/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a href="http://hi.zongquan.wang/2015/01/17/Study_iOS_Misc_UI/#disqus_thread" class="article-comment-link">Comments</a>
      

      <a data-url="http://hi.zongquan.wang/2015/01/17/Study_iOS_Misc_UI/" data-id="cijccxde20010pysbnpo9av18" class="article-share-link">Share</a>

      <div id="article-baidu-share" class="bdsharebuttonbox">
        <a href="#" class="bds_weixin" data-cmd="weixin" title="WeiXin"></a>
      </div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","tqq","qzone","qq","sqq","tqf","t163","renren","douban","huaban","taobao","tieba","kaixin001","tsohu","meilishuo","mogujie","sdo","youdao","twi","fbook","linkedin","mail","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-Study_iOS_CoreData" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/11/Study_iOS_CoreData/">Study iOS - CoreData</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/01/11/Study_iOS_CoreData/">
      <time datetime="2015-01-11T08:51:58.000Z" itemprop="datePublished">2015-01-11</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Developing_Applications_for_iOS_观后感系列：CoreData">Developing Applications for iOS 观后感系列：CoreData</h3><p><em>相关视频章节：12，13</em></p>
<hr>
<p><strong><code>CoreData</code></strong> 是 iOS 提供的一套用于管理 app 的 Model 的 framework，它就像是个 object database，支持对 object 的各种操作：add、delete、query、undo、redo、autosave 等，灰常 NB。但它并不是 database 的某种实现，你可以基于持久化文件（如 sqlite 等）来使用 CoreData，也可以完全基于内存来使用。</p>
<p>使用 CoreData 会涉及 Xcode 和 code 两方面。</p>
<p>首先看一下在 Xcode 中需要做什么。</p>
<h3 id="创建_Data_Model">创建 Data Model</h3><ul>
<li><p>类似于 .storyboard 文件，这里你需要创建一个 <em><code>.xcdatamodeld</code></em> 文件，它存储了 app 的 Data Model。.xcdatamodeld 文件内容如下：</p>
<p>  <img src="/img/Study_iOS_CoreData/12.0.CoreData.png" alt="CoreData"></p>
<p>  就像设计数据库的 ER 图，在这里，你需要设计好 object 对应的 <em><code>Entity</code></em>。这里的 Entity 会对应到 code 中的 <em><code>NSManagedObject（或其 subclass）</code></em>。</p>
<p>  <img src="/img/Study_iOS_CoreData/12.1.CoreData.png" alt="CoreData"></p>
<p>  <img src="/img/Study_iOS_CoreData/12.2.CoreData.png" alt="CoreData"></p>
</li>
<li><p>Model 构建好了之后，下面就需要创建出与这些 Entity 对应的 NSManagedObject，供 code 中使用。</p>
<p>  <img src="/img/Study_iOS_CoreData/12.12.CoreData.Add.png" alt="CoreData"></p>
<p>  <img src="/img/Study_iOS_CoreData/12.13.CoreData.Add.png" alt="CoreData"></p>
<p>  这样我们就可以直接使用这些 NSManagedObject subclass 了，而且也可以方便地访问它们的 properties，而不用去调用繁琐的 valueForKey 和 setValue:forKey。</p>
<p>  <strong>注意</strong>，以后当我们修改了 Model 的 Entity 后，需要重新执行一遍这一步，来更新这些 NSManagedObject subclass。这也意味着，这些 .h 和 .m 会被重新生成。所以这里常常使用的一个技巧是，为这些 NSManagedObject subclass 添加 <em><code>category</code></em>，在 category 中创建一些额外的函数供 NSManagedObject subclass 使用，这样以后更新 NSManagedObject subclass 时，只有最原本的 .h 和 .m 文件被重新生成，而不会影响到我们的 category。</p>
</li>
</ul>
<p>Xcode 这边基本就完成了，下面开始进入 code。</p>
        
          <p class="article-more-link shake shake-rotate">
            <a href="/2015/01/11/Study_iOS_CoreData/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a href="http://hi.zongquan.wang/2015/01/11/Study_iOS_CoreData/#disqus_thread" class="article-comment-link">Comments</a>
      

      <a data-url="http://hi.zongquan.wang/2015/01/11/Study_iOS_CoreData/" data-id="cijccxdeh001mpysb0wygimci" class="article-share-link">Share</a>

      <div id="article-baidu-share" class="bdsharebuttonbox">
        <a href="#" class="bds_weixin" data-cmd="weixin" title="WeiXin"></a>
      </div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","tqq","qzone","qq","sqq","tqf","t163","renren","douban","huaban","taobao","tieba","kaixin001","tsohu","meilishuo","mogujie","sdo","youdao","twi","fbook","linkedin","mail","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CoreData/">CoreData</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-Study_iOS_UITableView" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/11/Study_iOS_UITableView/">Study iOS - UITableView</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/01/11/Study_iOS_UITableView/">
      <time datetime="2015-01-11T06:42:21.000Z" itemprop="datePublished">2015-01-11</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Developing_Applications_for_iOS_观后感系列：UITableView">Developing Applications for iOS 观后感系列：UITableView</h3><p><em>相关视频章节：11</em></p>
<hr>
<h4 id="UITableView_分类">UITableView 分类</h4><p>按内容分：</p>
<ul>
<li><p><em><code>dynamic</code></em>：在 storyboard 中设定 prototype，在代码中 load 内容。<em>（本篇主要涉及 dynamic NSTableView）</em></p>
</li>
<li><p><em><code>static</code></em>：完全在 storyboard 中设定。</p>
</li>
</ul>
<p>按样式分：</p>
<p><em><code>ungrouped</code></em> / <em><code>grouped</code></em></p>
<p>示例：</p>
<p><img src="/img/Study_iOS_UITableView/11.0.UITableView.png" alt="UITableView"></p>
<h4 id="UITableView_的构成">UITableView 的构成</h4><p>与 Mac 上的NSTableView 不同，iOS 中的 UITableView 都是一维的，只有一列。</p>
<p><img src="/img/Study_iOS_UITableView/11.1.UITableView.png" alt="UITableView"> <img src="/img/Study_iOS_UITableView/11.2.UITableView.png" alt="UITableView"></p>
        
          <p class="article-more-link shake shake-rotate">
            <a href="/2015/01/11/Study_iOS_UITableView/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a href="http://hi.zongquan.wang/2015/01/11/Study_iOS_UITableView/#disqus_thread" class="article-comment-link">Comments</a>
      

      <a data-url="http://hi.zongquan.wang/2015/01/11/Study_iOS_UITableView/" data-id="cijccxddi000jpysbj9pzcb85" class="article-share-link">Share</a>

      <div id="article-baidu-share" class="bdsharebuttonbox">
        <a href="#" class="bds_weixin" data-cmd="weixin" title="WeiXin"></a>
      </div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","tqq","qzone","qq","sqq","tqf","t163","renren","douban","huaban","taobao","tieba","kaixin001","tsohu","meilishuo","mogujie","sdo","youdao","twi","fbook","linkedin","mail","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-Study_iOS_UIScrollView" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/11/Study_iOS_UIScrollView/">Study iOS - UIScrollView</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/01/11/Study_iOS_UIScrollView/">
      <time datetime="2015-01-11T05:46:10.000Z" itemprop="datePublished">2015-01-11</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Developing_Applications_for_iOS_观后感系列：UIScrollView">Developing Applications for iOS 观后感系列：UIScrollView</h3><p><em>相关视频章节：10</em></p>
<hr>
<p><strong><code>UIScrollView</code></strong> 是 iOS 中很基础很重要的一种 UIView，用于呈现远大于 app window 大小的 content area，用户通过 <em><code>swiping</code></em> 手势可以在 content area 中进行 scroll，通过 <em><code>pinching</code></em> 手势可以进行 content 的 zoom。就像是拿着一个放大镜在四处移动着观察一副很大的地图。</p>
<p>UIScrollView 也是很多其它重要 UIView 的 super class，例如 <a href="../../../../2015/01/11/Study_iOS_UITableView/"><em><code>UITableView</code></em></a>、<em><code>UICollectionView</code></em>、<a href="../../../../2015/01/11/Study_iOS_Common_UI/"><em><code>UITextView</code></em></a> 等等。</p>
<h4 id="创建_UIScrollView">创建 UIScrollView</h4><p>通过 Storyboard 或者代码中通过 alloc initWithFrame。</p>
        
          <p class="article-more-link shake shake-rotate">
            <a href="/2015/01/11/Study_iOS_UIScrollView/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a href="http://hi.zongquan.wang/2015/01/11/Study_iOS_UIScrollView/#disqus_thread" class="article-comment-link">Comments</a>
      

      <a data-url="http://hi.zongquan.wang/2015/01/11/Study_iOS_UIScrollView/" data-id="cijccxddl000npysb95ryurfo" class="article-share-link">Share</a>

      <div id="article-baidu-share" class="bdsharebuttonbox">
        <a href="#" class="bds_weixin" data-cmd="weixin" title="WeiXin"></a>
      </div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","tqq","qzone","qq","sqq","tqf","t163","renren","douban","huaban","taobao","tieba","kaixin001","tsohu","meilishuo","mogujie","sdo","youdao","twi","fbook","linkedin","mail","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-Study_iOS_Segue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/10/Study_iOS_Segue/">Study iOS - Segue</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/01/10/Study_iOS_Segue/">
      <time datetime="2015-01-10T15:01:35.000Z" itemprop="datePublished">2015-01-10</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/开发/">开发</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Developing_Applications_for_iOS_观后感系列：Segue">Developing Applications for iOS 观后感系列：Segue</h3><p><em>相关视频章节：6，15，16</em></p>
<hr>
<p><em><code>Segue</code></em>，中文为“继续”的意思，在 iOS 开发中，其 class 为 <em><code>UIStoryboardSegue</code></em>，用于 storyboard 中不同 UIViewController 之间的转场，即从一个 UIViewController scene 转场到另一个 UIViewController scene。你可以从一个 UIControl、UIBarItem、UIView、UIViewController 等等，向另一个 UIViewController 建立 Segue。</p>
<h3 id="如何创建_Segue">如何创建 Segue</h3><p>起点（UIControl、UIBarItem、UIView、UIViewController 等等）</p>
<p>⇩</p>
<p><em><code>Control</code></em> + <em><code>Drag</code></em></p>
<p>⇩</p>
<p>终点（UIViewController）</p>
<p>⇩</p>
<p>设置 Segue 的 Identifier</p>
<h3 id="Segue_如何执行">Segue 如何执行</h3><ol>
<li><p><strong>触发 Segue</strong>：假如你从 UIButton 建立了一个 Segue，那么 button 点击时，就会触发 Segue。但有时你也需要从代码中手动触发 Segue，此时就需要调用 UIViewController 的 API：<code>-(void)performSegueWithIdentifier:(NSString *)segueID sender:(id)sender</code>。</p>
</li>
<li><p><strong>询问 Segue 是否允许执行</strong>：实现这个 delegate：<code>-(BOOL)shouldPerformSegueWithIdentifier:(NSString *)identifier sender:(id)sender</code>，如果不实现，默认就是允许所有 Segue。</p>
</li>
<li><p><strong>准备 Segue</strong>：真正呈现 <em><code>destination UIViewController</code></em> 之前，你需要为该 Segue 作 preparation。也就是说，Segue 会给 <em><code>source UIViewController</code></em> 机会去准备好将要呈现的 destination UIViewController。可以理解成 destination UIViewController 的 init。这一 preparation 过程是通过实现如下 delegate 来完成的：</p>
<pre><code>-(<span class="typename">void</span>)<span class="string">prepareForSegue:</span>(UIStoryboardSegue *)segue <span class="string">sender:</span>(id)sender
{
    <span class="keyword">if</span> ([segue.identifier <span class="string">isEqualToString:</span>@<span class="string">"XXX"</span>]) {
        <span class="keyword">if</span> ([segue.destinationViewController <span class="string">isKindOfClass:</span>[XXXViewController <span class="class"><span class="keyword">class</span>]]) {</span>
            XXXViewController *xxxVC = (XXXViewController *)segue.destinationViewController;
            xxxVC.xxxProperty = XXX; <span class="comment">// setup xxxVC</span>
        }
    }
}
</code></pre><p> <strong>注意</strong>，要记住之前 <a href="../../../../2015/01/05/Study_iOS_MVC/">MVCs</a> 中提到的原则，这个 destination UIViewController 在 source UIViewController 的 MVC 中扮演着 View 的角色，不允许 destination UIViewController 向 source UIViewController 的直接通信，而是要使用 blind 的方式，如 delegate。</p>
<p> <strong>还要注意</strong>，几乎所有类型的 Segue 都是 init 一个 <strong>new</strong> destination UIViewController 给你，所以当你第二次 prepareForSegue 时，第一次 prepareForSegue 拿到的那个 destination UIViewController 已经不复存在了，你需要重新 setup。<strong>这里只有一个例外</strong>，就是后面要提到的 <em><code>Unwind Segue</code></em>，它返给你的 destination UIViewController 就是之前已经存在的 UIViewController，这显然是合理的。举个例子，aVC 通过普通 Segue 转场到 bVC（bVC 会被重新 init），bVC 又通过 Unwind Segue 转回到 aVC，此时，Unwind Segue 的 destination UIViewController 显然必须是之前已经存在的那个 aVC，而不应该去重新 init 一个。</p>
<p> <strong>更要注意</strong>，prepareForSegue 在执行的时候，destination UIViewController 中的 outlet 尚未 set，因为 prepareForSegue 做的事等价于帮助 destination UIViewController 去 init。而 outlet set 是在 init 之后，viewDidLoad 之前做的。参见 <a href="../../../../2015/01/05/Study_iOS_Life_Cycle/">Life Cycle</a>。</p>
</li>
<li><p><strong>系统为你呈现 destination UIViewController</strong></p>
</li>
</ol>
        
          <p class="article-more-link shake shake-rotate">
            <a href="/2015/01/10/Study_iOS_Segue/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a href="http://hi.zongquan.wang/2015/01/10/Study_iOS_Segue/#disqus_thread" class="article-comment-link">Comments</a>
      

      <a data-url="http://hi.zongquan.wang/2015/01/10/Study_iOS_Segue/" data-id="cijccxddn000rpysba3fbyun6" class="article-share-link">Share</a>

      <div id="article-baidu-share" class="bdsharebuttonbox">
        <a href="#" class="bds_weixin" data-cmd="weixin" title="WeiXin"></a>
      </div>
      <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","tqq","qzone","qq","sqq","tqf","t163","renren","douban","huaban","taobao","tieba","kaixin001","tsohu","meilishuo","mogujie","sdo","youdao","twi","fbook","linkedin","mail","copy","print"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
      </nav>
    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/01/12/Hack_XtraFinder/" class="thumbnail">
  
    <span style="background-image:url(/img/Hack_XtraFinder/alert.png
)" alt="Hack XtraFinder" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/开发/">开发</a></p>
              <p class="item-title"><a href="/2016/01/12/Hack_XtraFinder/" class="title">Hack XtraFinder</a></p>
              <p class="item-date"><time datetime="2016-01-12T15:38:55.000Z" itemprop="datePublished">2016-01-12</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/11/16/Xcode_Build_Settings_Products_Path/" class="thumbnail">
  
    <span style="background-image:url(/img/Xcode_Build_Settings_Products_Path/location.png
)" alt="Xcode Build Settings - Products Path" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/开发/">开发</a></p>
              <p class="item-title"><a href="/2015/11/16/Xcode_Build_Settings_Products_Path/" class="title">Xcode Build Settings - Products Path</a></p>
              <p class="item-date"><time datetime="2015-11-16T12:21:54.000Z" itemprop="datePublished">2015-11-16</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/01/22/How_to_get_File_Attributes_in_Mac/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/开发/">开发</a></p>
              <p class="item-title"><a href="/2015/01/22/How_to_get_File_Attributes_in_Mac/" class="title">How to get File Attributes in Mac</a></p>
              <p class="item-date"><time datetime="2015-01-22T07:16:18.000Z" itemprop="datePublished">2015-01-22</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/01/18/Study_iOS_Hardware/" class="thumbnail">
  
    <span style="background-image:url(/img/Study_iOS_Hardware/17.9.CoreMotion.png
)" alt="Study iOS - Hardware" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/开发/">开发</a></p>
              <p class="item-title"><a href="/2015/01/18/Study_iOS_Hardware/" class="title">Study iOS - Hardware</a></p>
              <p class="item-date"><time datetime="2015-01-18T07:42:25.000Z" itemprop="datePublished">2015-01-18</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/01/18/Study_iOS_L18N/" class="thumbnail">
  
    <span style="background-image:url(/img/Study_iOS_L18N/18.1.L18N.png
)" alt="Study iOS - L18N" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/开发/">开发</a></p>
              <p class="item-title"><a href="/2015/01/18/Study_iOS_L18N/" class="title">Study iOS - L18N</a></p>
              <p class="item-date"><time datetime="2015-01-18T05:35:11.000Z" itemprop="datePublished">2015-01-18</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/开发/">开发</a><span class="category-list-count">20</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Animation/">Animation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Block/">Block</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CoreData/">CoreData</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hardware/">Hardware</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network/">Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sandbox/">Sandbox</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/">UI</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XPC/">XPC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xcode/">Xcode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Animation/" style="font-size: 10px;">Animation</a> <a href="/tags/Block/" style="font-size: 10px;">Block</a> <a href="/tags/CoreData/" style="font-size: 10px;">CoreData</a> <a href="/tags/Hardware/" style="font-size: 10px;">Hardware</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Sandbox/" style="font-size: 10px;">Sandbox</a> <a href="/tags/UI/" style="font-size: 15px;">UI</a> <a href="/tags/XPC/" style="font-size: 10px;">XPC</a> <a href="/tags/Xcode/" style="font-size: 10px;">Xcode</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 1987 - 2016 闷骚的悟空<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
    <div style="display: none">
      
      	
      	
        <img id=favicon_1 src=/favicon.1.ico>
      
      	
      	
        <img id=favicon_2 src=/favicon.2.ico>
      
      	
      	
        <img id=favicon_3 src=/favicon.3.ico>
      
      	
      	
        <img id=favicon_4 src=/favicon.4.ico>
      
    </div>
  </div>
</footer>
    

<script>
  var disqus_shortname = 'wzqcongcong';
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



 <script src="//cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>



<link rel="stylesheet" type="text/css" href="/css/csshake.min.css">


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>
<script src="/js/favico.js" type="text/javascript"></script>

<script type="text/javascript">
  $(document).ready(function() {
    var favicon = new Favico();
    var index = -1;
    window.setInterval(function() {
      var random = Math.floor(Math.random() * 4);
      index = (index + 1) % 4;
      var image = document.getElementById('favicon_' + (index + 1));
      favicon.image(image);
    }, 500);
  });
</script>

  </div>
</body>
</html>